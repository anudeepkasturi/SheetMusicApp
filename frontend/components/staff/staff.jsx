import React from 'react';
import Note from './note';
import NoteLineContainer from './note_line_container';
import NotePointContainer from './note_point_container';
import SVGInline from 'react-svg-inline';

class Staff extends React.Component {
  constructor(props) {
    super(props);
  }

  render () {

    let NOTES = ['F1','E1','D1','C1','B1','A1','G0','F0','E0'];

    let noteLines = [];
    for (var i = 1; i <= 9; i++) {
      let note = NOTES[(i - 1)];
      noteLines.push(<NoteLineContainer key={i} id={i} note={note}/>);
    }

    let notes = [];
    let song = this.props.song;

    for (var j = 0; j < song.length; j++) {
      let note = song[j];
      notes.push(<Note key={j} id={j} note={note}/>);
    }

    let grid = [];

    for (var l = 0; l < NOTES.length; l++) {
      let gridRow = [];
      for (var k = 0; k < 17; k++) {
        let id = `${l} ${k}`;
        gridRow.push(
          <NotePointContainer
            key={id}
            id={id}
            note={NOTES[l]}
            ></NotePointContainer>);
      }

      grid.push(
        <tr id={NOTES[l]} key={l}>
          { gridRow }
        </tr>
      );
    }

    return (
      <div className="staff-container">
        <ol>
          { noteLines }
        </ol>
        <div className="staff-props">
          <SVGInline id = "clef" svg={`<svg id="svg4189" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.398315 222.07143"><path id="path4739" d="m30.463 220.75c-8.8025-3.2752-15.451-11.857-14.003-18.073 2.2298-9.5673 6.5117-13.928 13.677-13.928 4.1959 0 9.3424 4.7527 10.244 9.46 0.87512 4.5698-3.7884 11.03-8.8859 12.309-2.7199 0.68265-2.9691 1.1418-1.8027 3.3213 3.3364 6.234 13.713 5.9739 20.8-0.52155 5.7213-5.2432 6.429-11.166 3.5836-29.99l-2.1424-14.173-6.2686 0.99094c-21.762 3.44-40.218-11.82-44.895-37.12-3.1804-17.21 3.3-32.42 23.02-54.038 5.2093-5.7108 9.2312-11.055 8.9375-11.875-0.29369-0.82046-1.3727-8.0071-2.3978-15.97-2.1739-16.887-1.1897-26.277 3.9579-37.761 3.183-7.1034 8.917-13.386 12.216-13.386 2.7146 0 7.7476 6.9377 10.174 14.024 2.8592 8.3513 3.1935 32.329 0.58016 41.601-2.5294 8.9745-8.2443 19.932-13.333 25.565l-4.3962 4.866 2.141 11.168 2.141 11.168h6.7498c9.3494 0 15.894 4.6007 20.957 14.732 5.0931 10.192 5.1717 19.581 0.2479 29.624-3.043 6.2068-10.254 13.503-14.863 15.04-0.61027 0.20342-0.1627 5.706 0.99458 12.228 3.934 22.17 2.2835 33.011-5.915 38.849-4.6762 3.3297-15.166 4.2489-21.518 1.8855zm19.777-55.704c0.40886-0.66154-1.027-10.487-3.1908-21.835l-3.9342-20.632-3.5986 1.8609c-8.888 4.5962-10.666 16.569-3.8883 26.184 4.7893 6.7946 3.7484 7.1502-3.2916 1.1242-6.6565-5.6977-8.9422-10.133-8.9422-17.353 0-9.4771 4.8117-17.441 13.716-22.701 2.3026-1.3602 3.5658-2.9846 3.2293-4.1527-0.30396-1.0552-1.2204-5.4343-2.0365-9.7311-0.81614-4.2969-1.8734-7.8125-2.3495-7.8125-2.2163 0-21.587 21.56-23.732 26.415-10.93 24.735 3.5465 49.835 28.742 49.835 4.6934 0 8.868-0.54126 9.2769-1.2028zm14.526-13.543c2.9397-8.9074-1.1863-22.403-8.1473-26.647-3.8479-2.3465-9.4743-3.1894-9.4759-1.4196-0.00047 0.51562 1.7732 9.8237 3.9414 20.685l3.9422 19.747 4.16-4.0321c2.288-2.2176 4.7988-5.9675 5.5795-8.3329zm-14.851-104.64c3.4068-6.3277 4.0431-8.8342 4.0708-16.036 0.0359-9.3155-1.962-12.478-7.044-11.149-3.534 0.92417-9.359 10.478-10.971 17.994-1.4777 6.8904-1.7312 20.052-0.47658 24.743 0.80063 2.9932 0.90939 2.9447 5.5996-2.5 2.631-3.053 6.601-8.927 8.821-13.052z"/></svg>`} />
          <SVGInline id = "time-sig" svg={`<svg id="svg4823" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 102.18745 254.98672"><path id="path5373" d="m39.911 253.51c-2.978-2.978-0.56323-6.9643 4.2188-6.9643 5.3447 0 6.4955-2.4916 6.4955-14.062v-10.312h-22.572-22.572l-2.7404-2.7404c-1.5078-1.5-2.741-3.13-2.741-3.61 0-0.4777 1.2869-2.725 2.8598-4.994 22.51-32.473 26.009-39.826 31.808-66.84 1.5378-7.165 3.4004-13.95 4.139-15.077 0.86268-1.3166 1.042-2.525 0.50144-3.379-2.0039-3.1659 0.4642-6.4857 4.8218-6.4857 5.3447 0 6.4955-2.4916 6.4955-14.062v-10.313h-22.572-22.572l-2.7404-2.7404c-1.5088-1.5-2.742-3.124-2.742-3.602 0-0.4777 1.2869-2.725 2.8598-4.994 22.277-32.137 26.72-41.473 31.834-66.904 2.2929-11.401 3.3235-14.654 4.974-15.704 0.61227-0.38932 10.026-0.71431 20.92-0.72221 23.75-0.0172 23.983 0.0785 18.89 7.7493-6.078 9.154-18.825 24.468-41.702 50.098-12.527 14.034-22.776 25.952-22.776 26.484 0 0.6306 6.1984 0.96715 17.812 0.96715h17.812v-14.124c0-8.8593 0.40305-14.887 1.0813-16.172 1.2977-2.4577 26.755-30.764 28.709-31.922 0.88666-0.52563 1.6564-0.36024 2.1816 0.46875 0.44633 0.70451 0.81796 14.886 0.82586 31.515l0.0143 30.234h7.9018c8.3539 0 10.848 1.0778 10.848 4.6875 0 3.62-2.49 4.6875-10.934 4.6875h-7.9871l0.31971 9.9266c0.30714 9.5363 0.42314 10.016 2.9501 12.188 1.4467 1.2435 3.4205 2.2609 4.3862 2.2609 2.0468 0 4.7022 2.3824 4.7022 4.2188 0 2.7036-2.886 4.2188-8.0357 4.2188-4.3702 0-5.0893 0.25101-5.0893 1.7765 0 4.0589-13.852 21.419-44.754 56.084-12.51 14.034-22.746 25.952-22.746 26.484 0 0.6306 6.1984 0.96715 17.812 0.96715h17.812v-14.124c0-8.8593 0.40305-14.887 1.0813-16.172 1.2977-2.4577 26.755-30.764 28.709-31.922 0.88666-0.52563 1.6564-0.36024 2.1816 0.46875 0.44633 0.70451 0.81796 14.886 0.82586 31.515l0.0143 30.234h7.9018c8.3539 0 10.848 1.0778 10.848 4.6875 0 3.62-2.49 4.6875-10.934 4.6875h-7.9871l0.31971 9.9266c0.30714 9.5363 0.42314 10.016 2.9501 12.188 1.4467 1.2435 3.4205 2.2609 4.3862 2.2609 2.0468 0 4.7022 2.3824 4.7022 4.2188 0 0.69978-0.66294 1.9353-1.4732 2.7455-1.2675 1.2675-5.0548 1.4732-27.121 1.4732s-25.853-0.20573-27.121-1.4732z"/></svg>`} />
        </div>
        { notes }
        <table className="grid">
          <tbody>
            { grid }
          </tbody>
        </table>
      </div>
    );
  }
}

export default Staff;
